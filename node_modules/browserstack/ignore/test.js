var BrowserStack = require( "../lib/browserstack" );

var client = BrowserStack.createClient({
	username: "scott.gonzalez",
	password: "ZgYqe7cX3seqZn",
	version: 3
});

// client.getApiStatus(function( error, status ) {
//   console.log( error, status );
//   console.log( typeof status.running_sessions );
// });

// client.getWorkers(function( error, workers ) {
//   console.log( error, workers );
// });

client.createWorker({
  os: "Windows",
  os_version: 7,
  browser: "chrome",
  browser_version: "latest",
  url: "http://google.com"
}, function( error, d ) {
  console.log( error, d );

// //   setTimeout(function() {
//   // var d = { id: 2845031 };

    client.takeScreenshot( d.id, function( error ) {
      if ( error ) {
        console.log( error, error.stack );
      }
      console.log( arguments );
      // client.terminateWorker( 2786680, function() {
      //   console.log( arguments );
      // });
    });
// //   }, 2000 );
});
